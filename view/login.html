<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fasting Log - Login</title>

    <script
      type="module"
      src="https://cdn.jsdelivr.net/gh/starfederation/datastar@v1.0.0-beta.11/bundles/datastar.js"
    ></script>

    <script type="module" src="js/login.js"></script>

    <link rel="stylesheet" href="css/login.css">
  </head>
  <body>
    <div class="login-container">
      <h1>ðŸ¥— Fasting Log</h1>

      <div
        data-signals="{
          email: '',
          password: '',
          loginError: '',
          isSubmitting: false
        }"
        data-computed-emailEmpty="$email.trim() === ''"
        data-computed-passwordEmpty="$password.trim() === ''"
        data-computed-formValid="!$emailEmpty && !$passwordEmpty"
      >
        <form>
          <div class="form-group">
            <label for="email">Email</label>
            <input
              type="email"
              id="email"
              data-bind="email"
              placeholder="your-email@example.com"
              autocomplete="email"
              required
            />
            <div data-show="$emailEmpty && $email !== ''" class="error">
              Email is required
            </div>
          </div>

          <div class="form-group">
            <label for="password">Password</label>
            <input
              type="password"
              id="password"
              data-bind="password"
              placeholder="Enter your password"
              autocomplete="current-password"
              required
            />
            <div data-show="$passwordEmpty && $password !== ''" class="error">
              Password is required
            </div>
          </div>

          <button
            type="button"
            class="login-button"
            data-disabled="!$formValid || $isSubmitting"
            data-on-click="fl.login()"
            data-text="$isSubmitting ? 'Signing in...' : 'Sign In'"
          >
          </button>

          <div
            data-show="$loginError !== ''"
            class="login-error"
            data-text="$loginError"
          >
          </div>
        </form>
      </div>
    </div>
  </body>
</html>
